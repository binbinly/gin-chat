"use strict";(self["webpackChunkvue_h5_template"]=self["webpackChunkvue_h5_template"]||[]).push([[480],{86480:function(t,e,i){i.r(e),i.d(e,{default:function(){return k}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page"},[e("van-nav-bar",{attrs:{"left-text":t.titleText,fixed:"",placeholder:"","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("van-form",{on:{submit:t.onSubmit}},[e("van-cell-group",{attrs:{title:"备注名"}},[e("van-field",{attrs:{placeholder:"请填写备注名",rules:[{required:!0}]},model:{value:t.nickname,callback:function(e){t.nickname=e},expression:"nickname"}})],1),e("van-cell-group",{attrs:{title:"朋友圈权限"}},[e("van-cell",{attrs:{center:"",title:"不让他看我"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("van-switch",{attrs:{size:"24","active-color":"#08c060"},model:{value:t.look_me,callback:function(e){t.look_me=e},expression:"look_me"}})]},proxy:!0}])}),e("van-cell",{attrs:{center:"",title:"不看他"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("van-switch",{attrs:{size:"24","active-color":"#08c060"},model:{value:t.look_him,callback:function(e){t.look_him=e},expression:"look_him"}})]},proxy:!0}])})],1),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{block:"",type:"primary","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},n=[],a=(i(58479),i(39146)),r=i(71568),s=i(95602),l={mixins:[r.Z],data(){return{look_me:!0,look_him:!0,nickname:"",friend_id:0,act:"apply"}},computed:{titleText(){return"apply"==this.act?"添加好友":"申请处理"}},activated(){if(this.friend_id=parseInt(this.$route.query.id),!this.friend_id)return(0,a.Z)("参数非法"),this.$router.back();this.nickname=this.$route.query.nickname,this.act=this.$route.query.act||"apply"},methods:{onSubmit(){"apply"===this.act?(0,s.rX)({look_me:this.look_me?1:0,look_him:this.look_him?1:0,nickname:this.nickname,friend_id:this.friend_id}).then((()=>{a.Z.success("申请成功"),this.$router.back()})):(0,s.D2)({look_me:this.look_me?1:0,look_him:this.look_him?1:0,nickname:this.nickname,friend_id:this.friend_id},this.id).then((()=>{a.Z.success("处理成功"),this.$store.dispatch("contactList"),this.$store.dispatch("getApply"),this.$router.back()}))}}},c=l,u=i(1001),h=(0,u.Z)(c,o,n,!1,null,null,null),k=h.exports},71568:function(t,e,i){i(58479);var o=i(39146),n=i(76927);e["Z"]={created(){let t=(0,n.cF)("token");if(!t)return this.$router.push({path:"/login"})},methods:{onClickLeft(){this.$router.back()},push(t,e){this.$router.push({path:t,params:e})},draw(){(0,o.Z)("待开发")},backToast(t="非法参数"){this.toast(t),setTimeout((()=>{this.$router.back()}),500)},toast(t="非法参数"){(0,o.Z)({title:t,position:"bottom"})}}}}}]);