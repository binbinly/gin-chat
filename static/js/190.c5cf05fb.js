"use strict";(self["webpackChunkvue_h5_template"]=self["webpackChunkvue_h5_template"]||[]).push([[190],{86190:function(t,e,i){i.r(e),i.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{"left-text":"好友申请列表",fixed:"",placeholder:"","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(i,s){return e("van-cell",{key:s,attrs:{title:i.user.name,center:""},scopedSlots:t._u([{key:"icon",fn:function(){return[e("van-image",{staticClass:"pr-1",attrs:{round:"",width:"35",height:"35",src:t._f("formatAvatar")(i.user.avatar)}})]},proxy:!0},{key:"default",fn:function(){return[1===i.status?e("van-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handle(i.user)}}},[t._v("同意")]):e("span",{staticClass:"text-muted font-sm"},[t._v(t._s(t._f("formatTitle")(i)))])]},proxy:!0}],null,!0)})})),1)],1)],1)},n=[],a=i(71568),r=i(95602),l=i(57381),o={mixins:[a.Z],data(){return{loading:!1,finished:!1,refreshing:!1,page:1,list:[]}},filters:{formatTitle(t){let e={3:"已通过",2:"已拒绝",4:"已忽略"};return e[t.status]}},activated(){this.list=[],this.onRefresh()},methods:{handle(t){this.$router.push({path:"/add_friend",query:{id:t.id,act:"handle",nickname:t.name}})},onLoad(){(0,r.DA)(this.page).then((t=>{this.refreshing&&(this.list=[],this.refreshing=!1),this.list=[...this.list,...t],this.loading=!1,t.length<l.Z.PAGE_SIZE&&(this.finished=!0),this.page++}))},onRefresh(){this.page=1,this.finished=!1,this.loading=!0,this.onLoad()}}},h=o,u=i(1001),f=(0,u.Z)(h,s,n,!1,null,null,null),d=f.exports},71568:function(t,e,i){i(58479);var s=i(39146),n=i(76927);e["Z"]={created(){let t=(0,n.cF)("token");if(!t)return this.$router.push({path:"/login"})},methods:{onClickLeft(){this.$router.back()},push(t,e){this.$router.push({path:t,params:e})},draw(){(0,s.Z)("待开发")},backToast(t="非法参数"){this.toast(t),setTimeout((()=>{this.$router.back()}),500)},toast(t="非法参数"){(0,s.Z)({title:t,position:"bottom"})}}}}}]);