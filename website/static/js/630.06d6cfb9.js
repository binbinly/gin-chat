"use strict";(self["webpackChunkvue_h5_template"]=self["webpackChunkvue_h5_template"]||[]).push([[630],{75630:function(t,e,r){r.r(e),r.d(e,{default:function(){return f}});var o=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{"left-text":"用户投诉","left-arrow":""},on:{"click-left":t.onClickLeft},scopedSlots:t._u([{key:"right",fn:function(){return[e("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.onReport}},[t._v("提交")])]},proxy:!0}])}),e("van-field",{attrs:{readonly:"",clickable:"",value:t.form.category,label:"分类",placeholder:"请选择分类",rules:[{required:!0}]},on:{click:function(e){t.picker=!0}}}),e("van-field",{attrs:{rows:"3",autosize:"",label:"意见箱",type:"textarea",maxlength:"500",placeholder:"请填写投诉内容","show-word-limit":"",rules:[{required:!0}]},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}}),e("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.picker,callback:function(e){t.picker=e},expression:"picker"}},[e("van-picker",{attrs:{"show-toolbar":"",columns:t.categoryList},on:{cancel:function(e){t.picker=!1},confirm:t.onConfirm}})],1)],1)},n=[],i=(r(58479),r(39146)),a=r(71568),s=r(14266),c={mixins:[a.Z],data(){return{picker:!1,categoryList:["分类一","分类二","分类三","分类四","分类五"],form:{user_id:0,type:1,category:"",content:""}}},activated(){if(!this.$route.query)return this.backToast();this.form.user_id=parseInt(this.$route.query.user_id),this.form.type=parseInt(this.$route.query.type)},methods:{onConfirm(t){this.form.category=t,this.picker=!1},onReport(){return this.form.category?this.form.content?void(0,s.Mx)(this.form).then((t=>{i.Z.success("投诉成功"),this.$router.back()})):(0,i.Z)("请填写投诉内容"):(0,i.Z)("请选择分类")}}},u=c,l=r(1001),p=(0,l.Z)(u,o,n,!1,null,null,null),f=p.exports},71568:function(t,e,r){r(58479);var o=r(39146),n=r(76927);e["Z"]={created(){let t=(0,n.cF)("token");if(!t)return this.$router.push({path:"/login"})},methods:{onClickLeft(){this.$router.back()},push(t,e){this.$router.push({path:t,params:e})},draw(){(0,o.Z)("待开发")},backToast(t="非法参数"){this.toast(t),setTimeout((()=>{this.$router.back()}),500)},toast(t="非法参数"){(0,o.Z)({title:t,position:"bottom"})}}}}}]);